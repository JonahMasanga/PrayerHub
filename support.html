<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Support</title>
    <link rel="stylesheet" href="support.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.2/css/all.min.css">
</head>
<body>

    <nav>
        <a href="index.html" class="nav-link">Home</a>
        <a href="testimonies.html" class="nav-link">Testimonies</a>
        <a href="contact.html" class="nav-link">Contact</a>
    </nav>

    <section id="support" class="tab-content">
        <h2>Support Our Project</h2>
        <p>Your generous contributions make a real difference! Please consider supporting our work by making a donation.</p>

     <div class="payment-container">
    <h3> Donation Method</h3>
    <p>Click on the Donate to us button to choose your favourite donation method</p>
    <div class="payment-options">

        <form action="https://www.pesapal.com/API/PostPesapalDirectOrderV4" method="POST">
  <input type="hidden" name="Amount" value="5">
  <input type="hidden" name="Description" value="Payment for Product X">
  <input type="hidden" name="Type" value="MERCHANT">
  <input type="hidden" name="Reference" value="ORDER123">
  <input type="hidden" name="FirstName" value="John">
  <input type="hidden" name="LastName" value="Doe">
  <input type="hidden" name="Email" value="john.doe@example.com">
  <input type="hidden" name="PhoneNumber" value="0712345678">
  <input type="hidden" name="Currency" value="USD">
  <input type="hidden" name="CallbackURL" value="https://prayerwork.netlify.app">
  <button type="submit">Pay with PesaPal</button>
        </form>
        
    </div>
</div>

    </section>
    
   <script>
       exports.handler = async (event, context) => {
  const { pesapal_merchant_reference, pesapal_transaction_tracking_id } = event.queryStringParameters;

  // Process the payment status (e.g., update your database)
  console.log("Merchant Reference:", pesapal_merchant_reference);
  console.log("Transaction Tracking ID:", pesapal_transaction_tracking_id);

  return {
    statusCode: 200,
    body: JSON.stringify({ message: "Callback received" }),
  };
};
</script>
    
    
    

</body>
</html>
